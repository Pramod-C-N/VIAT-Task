<!-- <style>
  #table-wrapper {
  position:relative;
}
#table-scroll {
  width:100%;
  overflow:auto;  
}
#table-wrapper table {
  width:100%;

}

</style> -->

<div class="content d-flex flex-column flex-column-fluid">
  <sub-header [title]="'Custom Report' | localize" >
    
  </sub-header>

  <div class="card">
    <!-- <div class="card-header border-0 pt-5">
        <h3 class="card-title align-items-start flex-column">
          <span class="card-label fw-bolder fs-3 mb-1">Tenant: {{tenantName}} (Id:{{tenantId}})</span>
        </h3>
      </div> -->
      <div class="card-body py-3">
      
    
  


  
        <div class="row gx-10 mb-5" style="text-align:center">
          <div class="row gx-10 mb-5" style="text-align:center">
            <div class="col-lg-4">
                <label class="d-flex align-items-center">
                    <span class="">&nbsp;</span>
                </label>
              <label class="d-flex align-items-center">
                <span class="card-label fw-bolder fs-3 mb-1">Tenant: {{tenantName}} (Id:{{tenantId}})</span>
            </label>
              
              </div>

              </div>
              <div class="row gx-10 mb-5" style="text-align:center">

              <div class="col-lg-3">
                <label class="d-flex align-items-center">
                  <span class="">Report Name</span>
                </label>


                <select 
                [(ngModel)]="reportName"
                class="form-control" style="width: 100%;">
                <option value="">Select a Report...</option>
               

                <option *ngFor="let r of reports.items" [value]=" r.customReport.storedProcedureName">
                    {{ r.customReport.reportName }}
                </option>
                <!-- <option  value="GetSalesDetailedReport">
                   Get Sales  Report
              </option> -->
                </select>
              </div>


            <div class="col-lg-3">
              
            <label class="d-flex align-items-center">
              <span class="">Date Range</span>
            </label>
            <input
                                                            class="form-control"
                                                            id="StartEndRange"
                                                            name="StartEndRange"
                                                            #drp="bsDaterangepicker"
                                                            readonly="readonly"
                                                            bsDaterangepicker
                                                            dateRangePickerLuxonModifier
                                                            [(date)]="dateRange"
                                                        />
            
            <div class="fv-plugins-message-container invalid-feedback"></div>
            </div>
            
        
            <div class="col-lg-2">
              <label class="d-flex align-items-center">
                  <span class="">&nbsp;</span>
              </label>
        <button (click)="getSalesDetailedReport()" style="width:100% ;" class="btn btn-primary" [disabled]="isdisable">Search</button>
        
              <div class="fv-plugins-message-container invalid-feedback"></div>
            </div>
            <div class="col-lg-2">
              <label class="d-flex align-items-center">
                <span class="">&nbsp;</span>
            </label>
      <button (click)="exportToCsv()" style="width:100% ;" class="btn btn-success" [disabled]="isdisable">Export CSV</button>
      
            <div class="fv-plugins-message-container invalid-feedback"></div>
            </div>
            </div>
  
      </div>
      <div class="separator separator-dashed my-1"></div>
  
  </div>
  

  <div id="table-wrapper">
    <div id="table-scroll">

<div 
style="overflow-x: scroll;overflow-y: scroll;"

                                    class="primeng-datatable-container"
                                >
                                    <p-table
                                        #dataTableAuditLogs
                                        [value]="data"
                                        [paginator]="true"
                                        [rows]="10"
                                       
                                        [scrollable]="true"
                                         ScrollWidth="100%"
                                        [responsive]="true"
 
                                    >
                                        <ng-template pTemplate="header">
                                            <tr>
                                              
                                                <th  *ngFor="let l of labels;"  pSortableColumn="{{l}}">
                                                    {{ l | localize }}
                                                    <p-sortIcon field="{{l}}"></p-sortIcon>

                                                </th>

                                               
                                              
                                               
                                            </tr>
                                        </ng-template>
                                        <ng-template pTemplate="body" let-record="$implicit">
                                          <tr >
                                            <td *ngFor="let l of labels;" >
                                              <!-- <span class="p-column-title" style="width: 150px; text-align: end;">{{ 'Id' | localize }}</span> -->
                                                    {{ record[l] }}
                                          </td>
                               
                                          </tr>
                                        </ng-template>

                                        <ng-template  pTemplate="footer">

                                          <tr style="background-color:limegreen">
                                            
                                            <td *ngFor="let f of footer">{{f.value}}</td>
                                           
                                          </tr>
                                        </ng-template>

                                    </p-table>
                                   
                                </div>
                                <!--<Primeng-TurboTable-End>-->
    </div>
  </div>

                                  </div>